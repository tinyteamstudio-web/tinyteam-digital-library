<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Start Your Library — TinyTeam</title>
  <meta name="description" content="Submit your library request. All submissions are reviewed manually before any payment is requested." />
  <link rel="stylesheet" href="assets/styles/main.css" />

  <style>
    .form-wrap { max-width: 820px; margin: 0 auto; }
    .form-card {
      margin-top: 18px;
      background: #fff;
      border: 1px solid rgba(0,0,0,0.08);
      border-radius: 18px;
      box-shadow: 0 14px 32px rgba(0,0,0,0.06);
      padding: 22px;
    }
    .field { margin: 14px 0; }
    .label { display: block; font-weight: 700; margin-bottom: 8px; }
    .hint { color: rgba(0,0,0,0.65); font-size: .95rem; line-height: 1.5; margin-top: 6px; }
    input[type="text"], input[type="email"], textarea {
      width: 100%;
      padding: 12px 12px;
      border: 1px solid rgba(0,0,0,0.15);
      border-radius: 12px;
      font-size: 1rem;
      outline: none;
      background: #fff;
    }
    textarea { min-height: 110px; resize: vertical; }
    .radio-row { display: flex; gap: 14px; flex-wrap: wrap; }
    .radio-pill {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      border: 1px solid rgba(0,0,0,0.15);
      border-radius: 999px;
      cursor: pointer;
      user-select: none;
      background: #fff;
    }
    .radio-pill input { margin: 0; }
    .actions { display: flex; gap: 12px; align-items: center; margin-top: 16px; flex-wrap: wrap; }
    .success-box {
      display: none;
      margin-top: 16px;
      padding: 14px 16px;
      border-radius: 14px;
      border: 1px solid rgba(0,0,0,0.10);
      background: rgba(120,200,180,0.18);
    }
    .error-box {
      display: none;
      margin-top: 16px;
      padding: 14px 16px;
      border-radius: 14px;
      border: 1px solid rgba(0,0,0,0.10);
      background: rgba(255,210,210,0.35);
    }
  </style>
</head>

<body>

<header>
  <div>
    <a href="index.html"><strong>TinyTeam Digital Library</strong></a>
    <nav>
      <a href="index.html#types">Packages</a>
      <a href="index.html#faq">FAQ</a>
      <a href="help/index.html">Help</a>
    </nav>
  </div>
</header>

<main>
  <section style="padding:70px 20px;">
    <div class="form-wrap">
      <h1>Start Your Library</h1>
      <p class="muted" style="line-height:1.7;">
        Please complete this request form. All submissions are reviewed personally to keep your library private, accurate,
        and carefully structured. Payment instructions are provided only after review.
      </p>

      <div class="form-card">
        <!-- Hidden iframe prevents redirect and hides Google UI -->
        <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>

        <form id="ttForm" method="POST" target="hidden_iframe" novalidate>
          <div class="field">
            <label class="label" for="ownerName">Owner Full Name <span style="opacity:.6;">*</span></label>
            <input id="ownerName" name="entry.281403147" type="text" placeholder="e.g., Maria Santos" required />
          </div>

          <div class="field">
            <label class="label" for="ownerEmail">Owner Email <span style="opacity:.6;">*</span></label>
            <input id="ownerEmail" name="entry.1713120999" type="email" placeholder="e.g., maria@email.com" required />
            <div class="hint">We’ll email your next steps after review.</div>
          </div>

          <div class="field">
  <label class="label" for="libraryTitle">Library Title <span style="opacity:.6;">*</span></label>
  <input id="libraryTitle" type="text" placeholder="e.g., Veloso Clan Archive / San Pedro Community / ABC Organization" required />
  <div class="hint">This will be used as the main title on your library cover.</div>
</div>
<div class="field">
  <div class="label">Theme Style <span style="opacity:.6;">*</span></div>
  <div class="radio-row" id="themeRow">
    <label class="radio-pill">
      <input type="radio" name="tt_theme" value="Classic" required />
      <span>Classic</span>
    </label>
    <label class="radio-pill">
      <input type="radio" name="tt_theme" value="Modern" />
      <span>Modern</span>
    </label>
    <label class="radio-pill">
      <input type="radio" name="tt_theme" value="Minimal" />
      <span>Minimal</span>
    </label>
  </div>
  <div class="hint">We will apply this style to your library design.</div>
</div>
<div class="field">
  <label class="label" for="primaryColor">Primary Color <span style="opacity:.6;">*</span></label>
  <input id="primaryColor" type="text" placeholder="e.g., Navy, Forest Green, Gold, Maroon, Black" required />
  <div class="hint">Pick one main color. We’ll match accents and typography to it.</div>
</div>

          <div class="field">
            <div class="label">Package Type <span style="opacity:.6;">*</span></div>
            <div class="radio-row">
              <label class="radio-pill">
                <input type="radio" name="entry.1443621857" value="FAM" required />
                <span>FAM</span>
              </label>
              <label class="radio-pill">
                <input type="radio" name="entry.1443621857" value="COMM" />
                <span>COMM</span>
              </label>
              <label class="radio-pill">
                <input type="radio" name="entry.1443621857" value="ADDON" />
                <span>Add-On</span>
              </label>
            </div>
            <div class="hint">Pick what best matches your request. We’ll confirm everything during review.</div>
          </div>

          <div class="field">
            <label class="label" for="notes">Notes (optional)</label>
            <textarea id="notes" name="entry.771748026" placeholder="Anything you want us to know…"></textarea>
          </div>

          <div class="actions">
            <button class="btn" type="submit">Submit Request</button>
          </div>

          <div class="success-box" id="successBox">
  ✅ Submitted! Thank you. We’ll review your request and email the next steps.

  <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
    <a class="btn" id="payBtn" href="#" style="display:none;">Proceed to Payment</a>
    <a class="btn" href="help/index.html">Need Help?</a>
  </div>

  <p class="muted small" style="margin:10px 0 0; line-height:1.6;">
    Important: Please pay only if you are ready and sure. If your request needs clarification, we will contact you.
  </p>
</div>


          <div class="error-box" id="errorBox">
            ⚠️ Please complete the required fields (Name, Email, and Package Type) before submitting.
          </div>
        </form>
      </div>

      <p class="muted" style="margin-top:14px;">
        Privacy-first. We do not publish your information. Access is shared only with people you choose.
      </p>
    </div>
  </section>
</main>

<footer class="site-footer">
  <div class="footer-inner">
    <div class="footer-brand">
      <img class="footer-logo" src="assets/logo/svp-funnels-logo.png" alt="SVP Funnels" />
      <span class="footer-x">×</span>
      <img class="footer-logo" src="assets/logo/tinyteam-logo.jpeg" alt="TinyTeam Studio" />
    </div>

    <div class="footer-contacts">
      <a href="mailto:chinveloso.consmaterials@gmail.com">SVP: chinveloso.consmaterials@gmail.com</a>
      <span class="dot">•</span>
      <a href="mailto:smallsteps@tinyteamstudio.online">TinyTeam: smallsteps@tinyteamstudio.online</a>
    </div>

    <div class="footer-links">
      <a href="https://www.facebook.com/profile.php?id=61571330212081" target="_blank" rel="noopener">SVP Personal Facebook</a>
      <span class="dot">•</span>
      <a href="https://www.facebook.com/svpfunnels" target="_blank" rel="noopener">SVP Funnels Facebook Page</a>
      <span class="dot">•</span>
      <a href="https://www.facebook.com/profile.php?id=61585335397502" target="_blank" rel="noopener">TinyTeam Facebook Page</a>
    </div>
  </div>
</footer>

<script src="assets/config.js"></script>
<script>
  const formResponseUrl =
    "https://docs.google.com/forms/d/e/1FAIpQLScD-IqBpKkiTdrp1mfD3EUqqAEUfQLpE2O2ht6LhYX2DqpdqA/formResponse";

  const form = document.getElementById("ttForm");
  const successBox = document.getElementById("successBox");
  const errorBox = document.getElementById("errorBox");
  const payBtn = document.getElementById("payBtn");

  form.action = formResponseUrl;

  // Auto-select package from URL: start.html?package=FAM / COMM / ADDON
  const urlPkg = new URLSearchParams(location.search).get("package");
  if (urlPkg) {
    const radio = form.querySelector(`input[type="radio"][value="${urlPkg}"]`);
    if (radio) radio.checked = true;
  }

  function injectDesignNotes() {
    const title = document.getElementById("libraryTitle")?.value.trim();
    const color = document.getElementById("primaryColor")?.value.trim();
    const themeEl = document.querySelector('input[name="tt_theme"]:checked');
    const theme = themeEl ? themeEl.value : "";

    const notesField = document.getElementById("notes");
    const existing = (notesField.value || "").trim();

    const lines = [];
    lines.push("--- Design Preferences ---");
    if (title) lines.push("Library Title: " + title);
    if (theme) lines.push("Theme: " + theme);
    if (color) lines.push("Primary Color: " + color);

    const block = lines.join("\n");
    notesField.value = existing ? (existing + "\n\n" + block) : block;
  }

  function isValid() {
    const name = document.getElementById("ownerName").value.trim();
    const email = document.getElementById("ownerEmail").value.trim();
    const pkg = form.querySelector('input[type="radio"][name="entry.1443621857"]:checked');

    // New fields (local validation)
    const title = document.getElementById("libraryTitle").value.trim();
    const color = document.getElementById("primaryColor").value.trim();
    const theme = form.querySelector('input[name="tt_theme"]:checked');

    return !!(name && email && pkg && title && color && theme);
  }

  form.addEventListener("submit", (e) => {
    successBox.style.display = "none";
    errorBox.style.display = "none";

    if (!isValid()) {
      e.preventDefault();
      errorBox.style.display = "block";
      return;
    }

    // IMPORTANT: inject before actual submit happens
    injectDesignNotes();

    // Show success UI (form still submits in hidden iframe)
    setTimeout(() => {
      successBox.style.display = "block";

      // Payment button
      const selected = form.querySelector('input[type="radio"][name="entry.1443621857"]:checked');
      const pkgSelected = selected ? selected.value : (urlPkg || "FAM");
      payBtn.href = `payment.html?package=${encodeURIComponent(pkgSelected)}`;
      payBtn.style.display = "inline-block";

      form.reset();

      // Keep package selection if it came from URL
      if (urlPkg) {
        const radio2 = form.querySelector(`input[type="radio"][value="${urlPkg}"]`);
        if (radio2) radio2.checked = true;
        payBtn.href = `payment.html?package=${encodeURIComponent(urlPkg)}`;
      }
    }, 700);
  });
</script>

  const form = document.getElementById("ttForm");
  const successBox = document.getElementById("successBox");
  const errorBox = document.getElementById("errorBox");
  const payBtn = document.getElementById("payBtn");

  form.action = formResponseUrl;

  // Auto-select package from URL: start.html?package=FAM / COMM / ADDON
  const urlPkg = new URLSearchParams(location.search).get("package");
  if (urlPkg) {
    const radio = form.querySelector(`input[type="radio"][value="${urlPkg}"]`);
    if (radio) radio.checked = true;
  }
<script>
  function injectDesignNotes() {
    const title = document.getElementById("libraryTitle")?.value.trim();
    const color = document.getElementById("primaryColor")?.value.trim();
    const themeEl = document.querySelector('input[name="tt_theme"]:checked');
    const theme = themeEl ? themeEl.value : "";

    const notesField = document.getElementById("notes");

    let designNotes = "\n\n--- Design Preferences ---\n";
    if (title) designNotes += `Library Title: ${title}\n`;
    if (theme) designNotes += `Theme: ${theme}\n`;
    if (color) designNotes += `Primary Color: ${color}\n`;

    notesField.value = (notesField.value || "") + designNotes;
  }
</script>

  function isValid() {
    const name = document.getElementById("ownerName").value.trim();
    const email = document.getElementById("ownerEmail").value.trim();
    const pkg = form.querySelector('input[type="radio"][name="entry.1443621857"]:checked');
    return !!(name && email && pkg);
  }

  form.addEventListener("submit", (e) => {
    successBox.style.display = "none";
    errorBox.style.display = "none";

    if (!isValid()) {
      e.preventDefault();
      errorBox.style.display = "block";
      return;
    }
injectDesignNotes();

    setTimeout(() => {
      successBox.style.display = "block";
      // Build payment link based on selected package
const selected = form.querySelector('input[type="radio"][name="entry.1443621857"]:checked');
const pkgSelected = selected ? selected.value : (urlPkg || "FAM");
payBtn.href = `payment.html?package=${encodeURIComponent(pkgSelected)}`;
payBtn.style.display = "inline-block";
      form.reset();
// keep package selection if it came from URL
if (urlPkg) {
  const radio2 = form.querySelector(`input[type="radio"][value="${urlPkg}"]`);
  if (radio2) radio2.checked = true;
  payBtn.href = `payment.html?package=${encodeURIComponent(urlPkg)}`;

}

      // keep package selection if it came from URL
      if (urlPkg) {
        const radio2 = form.querySelector(`input[type="radio"][value="${urlPkg}"]`);
        if (radio2) radio2.checked = true;
      }
    }, 700);
  });
</script>

</body>
</html>
