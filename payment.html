<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Payment — TinyTeam</title>
  <meta name="description" content="Payment options for TinyTeam. Submit payment proof for verification." />
  <link rel="stylesheet" href="assets/styles/main.css" />

  <style>
    /* Small safety styles (won't fight your main.css) */
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,"Liberation Mono","Courier New", monospace;}
    .status{
      margin-top:10px;
      font-size:13px;
      color: rgba(0,0,0,0.65);
      display:none;
      line-height:1.5;
    }
    .status.show{display:block}
    .btn.secondary{
      background:#fff;
      color:#111827;
      border:1px solid rgba(0,0,0,0.12);
    }
  </style>
</head>

<body>

<header>
  <div>
    <a href="index.html"><strong>TinyTeam Digital Library</strong></a>
    <nav>
      <a href="start.html">Start</a>
      <a href="help/index.html">Help</a>
    </nav>
  </div>
</header>

<main>
  <div class="wrap">

    <section class="panel">
      <h1>Payment</h1>
      <p class="muted" style="line-height:1.7;">
        Submit your <strong>Order ID</strong>, choose your package, then pay using the QR or link.
        After paying, upload proof so we can verify manually.
      </p>

      <p class="muted small" style="margin-top:10px;">
        <strong>Member submission link:</strong> You will receive it by email after payment is verified.
      </p>
    </section>

    <div class="grid2" style="margin-top:18px;">

      <!-- LEFT -->
      <div>

        <div class="panel">
          <h3 style="margin:0 0 10px;">Step 1 — Enter Your Order ID</h3>
          <p class="muted small" style="margin:0 0 12px;line-height:1.7;">
            If you came from Start, this auto-fills. If not, paste your Order ID here.
          </p>

          <input id="orderIdInput" class="mono" type="text" placeholder="TT-ORD-2026-000123-ABC" />

          <div style="margin-top:12px;">
            <label class="muted small" style="display:block;margin-bottom:6px;">Package</label>
            <select id="pkgSel">
              <option value="FAM">Family Library (FAM) — $48</option>
              <option value="COMM">Community Library (COMM) — $89</option>
              <option value="ADDON">Photo / Docs Add-On — $49</option>
            </select>
          </div>

          <p class="muted small" style="margin-top:10px;">
            Note: Pay only if you are ready. Verification is manual and confirmed by email.
          </p>
        </div>

        <!-- PAYMENT PROOF FORM -->
        <div class="panel" style="margin-top:14px;">
          <h3 style="margin:0 0 10px;">Step 2 — Upload Payment Proof</h3>

          <form id="proofForm" action="https://formspree.io/f/xeeajpzy" method="POST" enctype="multipart/form-data">
            <input type="hidden" name="_next" id="proofNext" value="https://tinyteamstudio.online/thank-you.html?from=payment" />
            <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />

            <div class="oidRow">
              <input name="order_id" id="orderIdHidden" type="text" placeholder="Order_ID (required)" required />
            </div>

            <div class="oidRow">
              <input name="email" type="email" placeholder="Your Email (required)" required />
            </div>

            <div class="oidRow">
              <input name="package" id="packageHidden" type="text" readonly />
            </div>

            <div class="oidRow">
              <select name="payment_method" required>
                <option value="">Payment Method (required)</option>
                <option value="PayPal">PayPal</option>
                <option value="GCash">GCash</option>
                <option value="Maya">Maya</option>
                <option value="GoTyme">GoTyme</option>
                <option value="PNB">PNB</option>
                <option value="Bank Transfer">Bank Transfer</option>
                <option value="Other">Other</option>
              </select>
            </div>

            <div class="oidRow">
              <input name="amount_paid" type="text" placeholder="Amount Paid (optional)" />
            </div>

            <div class="oidRow">
              <input name="proof_link" type="url" placeholder="Proof link (optional) e.g., Google Drive link" />
            </div>

            <div class="oidRow">
              <label class="muted small" style="display:block;margin-bottom:6px;">Upload Screenshot (optional)</label>
              <input name="proof_file" type="file" />
            </div>

            <p style="margin:12px 0 0; display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
              <button class="btn" id="submitProofBtn" type="submit">Submit Payment Proof</button>
              <span class="muted small">We’ll verify and email you.</span>
            </p>

            <div class="status" id="proofStatus">Submitting proof…</div>
          </form>
        </div>

        <!-- UPSELL / CUSTOMIZATION -->
        <div class="panel" style="margin-top:14px;">
          <h3 style="margin:0 0 10px;">Optional — Customize the Design for Me</h3>
          <p class="muted small" style="margin:0 0 12px;line-height:1.7;">
            Want TinyTeam to handle design polishing, arranging, and archive structuring? Request customization below.
          </p>

          <form id="upsellForm" action="https://formspree.io/f/xzdepang" method="POST">
            <input type="hidden" name="_next" id="upsellNext" value="https://tinyteamstudio.online/thank-you.html?from=upsell" />
            <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />

            <div class="oidRow">
              <input name="order_id" id="upsellOrderId" type="text" placeholder="Order_ID (required)" required />
            </div>

            <div class="oidRow">
              <input name="email" type="email" placeholder="Your Email (required)" required />
            </div>

            <div class="oidRow">
              <input name="package" id="upsellPackage" type="text" readonly />
            </div>

            <div class="oidRow">
              <select name="service_request" required>
                <option value="">Choose a tier / service (required)</option>
                <option value="Tier A — Light Assist (USD 45)">Tier A — Light Assist (USD 45)</option>
                <option value="Tier B — Full Custom Design (USD 189)">Tier B — Full Custom Design (USD 189)</option>
                <option value="Tier C — Organize + Build Support (USD 449+)">Tier C — Organize + Build Support (USD 449+)</option>
                <option value="Not sure — recommend for me">Not sure — recommend for me</option>
              </select>
            </div>

            <div class="oidRow">
              <input name="details" type="text" placeholder="Short notes (optional) e.g., “Arrange 300 photos by year”" />
            </div>

            <p style="margin:12px 0 0; display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
              <button class="btn" id="upsellSubmitBtn" type="submit">Request Customization</button>
              <span class="muted small">We’ll reply with scope + confirmation.</span>
            </p>
          </form>

          <p class="muted small" style="margin-top:12px;line-height:1.7;">
            Need help? Email:
            <a href="mailto:smallsteps@tinyteamstudio.online">smallsteps@tinyteamstudio.online</a>
          </p>
        </div>

      </div>

      <!-- RIGHT -->
      <div>

        <div class="panel">
          <h3 style="margin:0 0 8px;">PayPal (Recommended)</h3>
          <p class="muted small" style="margin:0 0 12px;">
            Scan the PayPal QR below or use the PayPal link.
          </p>

          <div id="paypalArea">
            <div class="qr-card" data-package="FAM">
              <h4>Family Library (FAM) — $48</h4>
              <img src="assets/qr/TinyTeam – Fam-qrcode.png" alt="PayPal FAM QR">
              <p style="margin:10px 0 0;">
                <a href="https://www.paypal.com/ncp/payment/7H5SDCY7QG7TY" target="_blank" rel="noopener">Open PayPal Link</a>
              </p>
            </div>

            <div class="qr-card" data-package="COMM">
              <h4>Community Library (COMM) — $89</h4>
              <img src="assets/qr/TinyTeam – Com-qrcode.png" alt="PayPal COMM QR">
              <p style="margin:10px 0 0;">
                <a href="https://www.paypal.com/ncp/payment/K45JT94FYQD6C" target="_blank" rel="noopener">Open PayPal Link</a>
              </p>
            </div>

            <div class="qr-card" data-package="ADDON">
              <h4>Photo / Docs Add-On — $49</h4>
              <img src="assets/qr/TinyTeam – Pho-qrcode.png" alt="PayPal Add-On QR">
              <p style="margin:10px 0 0;">
                <a href="https://www.paypal.com/ncp/payment/45DWPFTGV72MY" target="_blank" rel="noopener">Open PayPal Link</a>
              </p>
            </div>
          </div>
        </div>

        <div class="panel" style="margin-top:14px;">
          <h3 style="margin:0 0 8px;">Alternative Payment Options</h3>
          <p class="muted small" style="margin:0 0 14px;line-height:1.7;">
            If PayPal is not available, you may use the options below.
            Keep your receipt/screenshot and submit it using the payment proof form.
          </p>

          <div class="grid4">
            <div class="qr-card"><h4>GCash</h4><img src="assets/qr/gcash-qr.jpeg" alt="GCash QR"></div>
            <div class="qr-card"><h4>Maya</h4><img src="assets/qr/maya-qr.jpeg" alt="Maya QR"></div>
            <div class="qr-card"><h4>GoTyme</h4><img src="assets/qr/gotym-qr.jpeg" alt="GoTyme QR"></div>
            <div class="qr-card"><h4>PNB</h4><img src="assets/qr/pnb-qr.jpeg" alt="PNB QR"></div>
          </div>
        </div>

        <div style="margin-top:18px;display:flex;gap:12px;flex-wrap:wrap;">
          <a class="btn" href="index.html">Back to Home</a>
          <a class="btn secondary" href="start.html">Start a New Request</a>
        </div>

      </div>

    </div>

  </div>
</main>

<footer class="site-footer">
  <div class="footer-inner">
    <div class="footer-contacts">
      <a href="mailto:smallsteps@tinyteamstudio.online">smallsteps@tinyteamstudio.online</a>
    </div>
    <div class="footer-links">
      <a href="index.html">Home</a>
      <span class="dot">•</span>
      <a href="help/index.html">Help</a>
      <span class="dot">•</span>
      <a href="reseller/index.html">Reseller Program</a>
    </div>
  </div>
</footer>

<script>
(function(){
  const params = new URLSearchParams(window.location.search);
  let pkg = (params.get("package") || "").toUpperCase();
  let oid = (params.get("order_id") || "").trim();

  // Fallback to localStorage
  try{
    if (!pkg) pkg = (localStorage.getItem("TT_LAST_PACKAGE") || "").toUpperCase();
    if (!oid) oid = (localStorage.getItem("TT_LAST_ORDER_ID") || "").trim();
  }catch(e){}

  const pkgSel = document.getElementById("pkgSel");
  const orderIdInput = document.getElementById("orderIdInput");

  if (pkgSel && (pkg === "FAM" || pkg === "COMM" || pkg === "ADDON")) pkgSel.value = pkg;
  if (orderIdInput && oid) orderIdInput.value = oid;

  // show only selected paypal card
  function refreshPaypal(){
    const chosen = (pkgSel ? pkgSel.value : "FAM").toUpperCase();
    const cards = document.querySelectorAll("#paypalArea .qr-card[data-package]");
    cards.forEach(c => c.style.display = (c.dataset.package === chosen ? "" : "none"));
  }

  // Sync hidden package fields
  const packageHidden = document.getElementById("packageHidden");
  const upsellPackage = document.getElementById("upsellPackage");
  function syncPackage(){
    const p = (pkgSel ? pkgSel.value : "FAM").toUpperCase();
    if (packageHidden) packageHidden.value = p;
    if (upsellPackage) upsellPackage.value = p;

    try { localStorage.setItem("TT_LAST_PACKAGE", p); } catch(e){}
    refreshPaypal();
    syncNextUrls();
  }

  // Sync OrderID to forms + localStorage
  const orderIdHidden = document.getElementById("orderIdHidden");
  const upsellOrderId = document.getElementById("upsellOrderId");
  function syncOrderId(){
    const v = (orderIdInput ? orderIdInput.value : "").trim();
    if (orderIdHidden) orderIdHidden.value = v;
    if (upsellOrderId) upsellOrderId.value = v;

    try{
      if (v) localStorage.setItem("TT_LAST_ORDER_ID", v);
    }catch(e){}
    syncNextUrls();
  }

  // Append package + order_id to THANK YOU redirects
  const proofNext  = document.getElementById("proofNext");
  const upsellNext = document.getElementById("upsellNext");
  function syncNextUrls(){
    const p = (pkgSel ? pkgSel.value : "FAM").toUpperCase();
    const id = (orderIdInput ? orderIdInput.value : "").trim();

    const proofUrl = new URL("https://tinyteamstudio.online/thank-you.html");
    proofUrl.searchParams.set("from","payment");
    proofUrl.searchParams.set("package", p);
    if (id) proofUrl.searchParams.set("order_id", id);
    if (proofNext) proofNext.value = proofUrl.toString();

    const upsellUrl = new URL("https://tinyteamstudio.online/thank-you.html");
    upsellUrl.searchParams.set("from","upsell");
    upsellUrl.searchParams.set("package", p);
    if (id) upsellUrl.searchParams.set("order_id", id);
    if (upsellNext) upsellNext.value = upsellUrl.toString();
  }

  if (pkgSel) pkgSel.addEventListener("change", syncPackage);
  if (orderIdInput) orderIdInput.addEventListener("input", syncOrderId);

  // Initial sync
  syncPackage();
  syncOrderId();
  refreshPaypal();

  // Submitting indicator (proof form)
  const proofForm = document.getElementById("proofForm");
  const proofStatus = document.getElementById("proofStatus");
  const submitProofBtn = document.getElementById("submitProofBtn");
  if (proofForm && proofStatus && submitProofBtn) {
    proofForm.addEventListener("submit", () => {
      submitProofBtn.disabled = true;
      submitProofBtn.textContent = "Submitting...";
      proofStatus.classList.add("show");
    });
  }

  // Upsell submit UX
  const upsellForm = document.getElementById("upsellForm");
  const upsellSubmitBtn = document.getElementById("upsellSubmitBtn");
  if (upsellForm && upsellSubmitBtn) {
    upsellForm.addEventListener("submit", () => {
      upsellSubmitBtn.disabled = true;
      upsellSubmitBtn.textContent = "Submitting...";
    });
  }
})();
</script>

</body>
</html>
